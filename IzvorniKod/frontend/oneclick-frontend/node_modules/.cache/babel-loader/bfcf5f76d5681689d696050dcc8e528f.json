{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Programming\\\\ProjektPI\\\\oneclick\\\\IzvorniKod\\\\frontend\\\\oneclick-frontend\\\\src\\\\components\\\\screens\\\\animalEdit.screen.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport ProfileService from \"../../services/profile.service\";\nimport { Avatar, Button, Table, TableBody, TableCell, TableContainer, TableHead, TableRow } from \"@material-ui/core\";\nimport ImageService from \"../../services/image.service\";\nimport api from '../../services/api.service';\nimport getHostName from '../../services/host.service';\nimport history from '../../misc/history';\nexport default function AnimalEditScreen() {\n  _s();\n\n  let upload = null;\n  let clickedId = 0;\n\n  const imageUpload = id => {\n    upload.click();\n    clickedId = id;\n  };\n\n  const onChangeFile = event => {\n    event.stopPropagation();\n    event.preventDefault();\n\n    if (event.target.files) {\n      var file = event.target.files[0];\n      console.log(file);\n      var form = new FormData();\n      form.append('imagefile', file);\n      api.post(ImageService.getAnimalImageUrl(clickedId), form, {\n        headers: 'multipart/form-data'\n      }).then(response => {\n        window.location.reload(false);\n      });\n    }\n  };\n\n  const deleteAnimal = id => {\n    api.get(getHostName(`/association/animals/remove/${id}`)).then(response => {\n      window.location.reload(false);\n    });\n  };\n\n  const animalData = ProfileService.useGetAnimals();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"imageInput\",\n      type: \"file\",\n      ref: ref => upload = ref,\n      style: {\n        display: 'none'\n      },\n      onChange: onChangeFile\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"outlined\",\n      onClick: () => {\n        history.push(\"/profile/association/animals/add\");\n      },\n      children: \"Dodaj psa\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(TableContainer, {\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Ime\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Slika\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Pasmina\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Godina ro\\u0111enja\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Spol\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Vrsta \\u0161etnje\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Opis\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: !!animalData && animalData.map(a => /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: a.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: [/*#__PURE__*/_jsxDEV(Avatar, {\n                src: ImageService.getAnimalImageUrl(a.id)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outlined\",\n                onClick: () => {\n                  imageUpload(a.id);\n                },\n                children: \"Promijeni sliku\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: a.breed.breedName\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: a.birthYear\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: a.gender === \"MALE\" ? \"Muško\" : \"Žensko\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: a.walkType === \"SINGLE\" ? \"Pojedinačna\" : \"Grupna\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: a.description\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"outlined\",\n                onClick: () => {\n                  deleteAnimal(a.id);\n                },\n                children: \"Izbri\\u0161i \\u017Eivotinju\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 13\n  }, this);\n}\n\n_s(AnimalEditScreen, \"bCoiE7VLwpaXXz33U2B3GmUvp8c=\", false, function () {\n  return [ProfileService.useGetAnimals];\n});\n\n_c = AnimalEditScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"AnimalEditScreen\");","map":{"version":3,"sources":["C:/Programming/ProjektPI/oneclick/IzvorniKod/frontend/oneclick-frontend/src/components/screens/animalEdit.screen.tsx"],"names":["React","ProfileService","Avatar","Button","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","ImageService","api","getHostName","history","AnimalEditScreen","upload","clickedId","imageUpload","id","click","onChangeFile","event","stopPropagation","preventDefault","target","files","file","console","log","form","FormData","append","post","getAnimalImageUrl","headers","then","response","window","location","reload","deleteAnimal","get","animalData","useGetAnimals","ref","display","push","map","a","name","breed","breedName","birthYear","gender","walkType","description"],"mappings":"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","sourcesContent":["import React, { ChangeEvent } from 'react';\r\nimport ProfileService from \"../../services/profile.service\";\r\nimport { Avatar, Button, Table, TableBody, TableCell, TableContainer, TableHead, TableRow } from \"@material-ui/core\";\r\nimport ImageService from \"../../services/image.service\";\r\nimport { AxiosResponse } from 'axios';\r\nimport api from '../../services/api.service';\r\nimport getHostName from '../../services/host.service';\r\nimport history from '../../misc/history';\r\n\r\nexport default function AnimalEditScreen() {\r\n    let upload: HTMLInputElement | null = null;\r\n\r\n    let clickedId = 0;\r\n\r\n    const imageUpload = (id: number) => {\r\n        upload!.click();\r\n        clickedId = id;\r\n    }\r\n\r\n    const onChangeFile = (event: ChangeEvent<HTMLInputElement>) => {\r\n        event.stopPropagation();\r\n        event.preventDefault();\r\n        if (event.target.files) {\r\n            var file = event.target.files[0];\r\n            console.log(file);\r\n\r\n            var form = new FormData();\r\n            form.append('imagefile', file);\r\n\r\n            api.post(ImageService.getAnimalImageUrl(clickedId), form, {\r\n                headers: 'multipart/form-data'\r\n            }).then((response: AxiosResponse) => {\r\n                window.location.reload(false);\r\n            });\r\n        }\r\n    }\r\n\r\n    const deleteAnimal = (id: number) => {\r\n        api.get(getHostName(`/association/animals/remove/${id}`)).then((response: AxiosResponse) => {\r\n            window.location.reload(false);\r\n        })\r\n    }\r\n\r\n    const animalData = ProfileService.useGetAnimals();\r\n    \r\n    return (<div>\r\n\r\n        <input id=\"imageInput\"\r\n            type=\"file\"\r\n            ref={(ref) => upload = ref}\r\n            style={{display: 'none'}}\r\n            onChange={onChangeFile}\r\n        />\r\n        <Button variant=\"outlined\" onClick={() => {history.push(\"/profile/association/animals/add\")}}>Dodaj psa</Button>\r\n\r\n        <TableContainer>\r\n            <Table>\r\n                <TableHead>\r\n                    <TableCell>Ime</TableCell>\r\n                    <TableCell>Slika</TableCell>\r\n                    <TableCell>Pasmina</TableCell>\r\n                    <TableCell>Godina rođenja</TableCell>\r\n                    <TableCell>Spol</TableCell>\r\n                    <TableCell>Vrsta šetnje</TableCell>\r\n                    <TableCell>Opis</TableCell>\r\n                    <TableCell></TableCell>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {!!animalData && animalData.map(a => (\r\n                        <TableRow>\r\n                            <TableCell>\r\n                                {a.name}\r\n                            </TableCell>\r\n                            <TableCell>\r\n                                <Avatar src={ImageService.getAnimalImageUrl(a.id)} />\r\n                                <Button variant=\"outlined\" onClick={() => {imageUpload(a.id)}}>Promijeni sliku</Button>\r\n                            </TableCell>\r\n                            <TableCell>\r\n                                {a.breed.breedName}\r\n                            </TableCell>\r\n                            <TableCell>\r\n                                {a.birthYear}\r\n                            </TableCell>\r\n                            <TableCell>\r\n                                {a.gender === \"MALE\" ? \"Muško\" : \"Žensko\"}\r\n                            </TableCell>\r\n                            <TableCell>\r\n                                {a.walkType === \"SINGLE\" ? \"Pojedinačna\" : \"Grupna\"}\r\n                            </TableCell>\r\n                            <TableCell>\r\n                                {a.description}\r\n                            </TableCell>\r\n                            <TableCell>\r\n                                <Button variant=\"outlined\" onClick={() => {deleteAnimal(a.id)}}>Izbriši životinju</Button>\r\n                            </TableCell>\r\n                        </TableRow>\r\n                    ))}\r\n                </TableBody>\r\n            </Table>\r\n        </TableContainer>\r\n    </div>);\r\n}"]},"metadata":{},"sourceType":"module"}