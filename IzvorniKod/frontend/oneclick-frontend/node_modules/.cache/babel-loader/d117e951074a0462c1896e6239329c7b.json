{"ast":null,"code":"import api from './api.service';\nimport getHostName from \"./host.service\";\n\nfunction getLoginRequest(username, password) {\n  return api.post(getHostName(\"/auth/login\"), {\n    username: username,\n    password: password\n  });\n}\n\nasync function login(username, password) {\n  let result = {};\n  let error = null;\n  await getLoginRequest(username, password).then(response => {\n    localStorage.setItem(\"user\", JSON.stringify(response.data));\n    result = response;\n  }, errors => {\n    error = errors.response;\n  });\n\n  if (error !== null) {\n    return error;\n  }\n\n  return result;\n}\n\nconst obj = {\n  login: login\n};\nexport default obj;","map":{"version":3,"sources":["C:/Programming/ProjektPI/oneclick/IzvorniKod/frontend/oneclick-frontend/src/services/login.service.ts"],"names":["api","getHostName","getLoginRequest","username","password","post","login","result","error","then","response","localStorage","setItem","JSON","stringify","data","errors","obj"],"mappings":"AAEA,OAAOA,GAAP,MAAgB,eAAhB;AACA,OAAOC,WAAP,MAAwB,gBAAxB;;AAEA,SAASC,eAAT,CAAyBC,QAAzB,EAA2CC,QAA3C,EAA6D;AACzD,SAAOJ,GAAG,CAACK,IAAJ,CAASJ,WAAW,CAAC,aAAD,CAApB,EAAqC;AACxCE,IAAAA,QAAQ,EAAEA,QAD8B;AAExCC,IAAAA,QAAQ,EAAEA;AAF8B,GAArC,CAAP;AAIH;;AAED,eAAeE,KAAf,CAAqBH,QAArB,EAAuCC,QAAvC,EAAyD;AACrD,MAAIG,MAAM,GAAG,EAAb;AACA,MAAIC,KAAK,GAAG,IAAZ;AAEA,QAAMN,eAAe,CAACC,QAAD,EAAWC,QAAX,CAAf,CAAoCK,IAApC,CAAyCC,QAAQ,IAAI;AACvDC,IAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BC,IAAI,CAACC,SAAL,CAAeJ,QAAQ,CAACK,IAAxB,CAA7B;AACAR,IAAAA,MAAM,GAAGG,QAAT;AACH,GAHK,EAGFM,MAAD,IAAY;AACXR,IAAAA,KAAK,GAAGQ,MAAM,CAACN,QAAf;AACH,GALK,CAAN;;AAOA,MAAIF,KAAK,KAAK,IAAd,EAAoB;AAChB,WAAOA,KAAP;AACH;;AAED,SAAOD,MAAP;AACH;;AAED,MAAMU,GAAG,GAAG;AAACX,EAAAA,KAAK,EAAEA;AAAR,CAAZ;AACA,eAAeW,GAAf","sourcesContent":["import { AxiosResponse } from 'axios';\r\nimport UserDetails from '../models/userDetails.model';\r\nimport api from './api.service'\r\nimport getHostName from \"./host.service\";\r\n\r\nfunction getLoginRequest(username: string, password: string) {\r\n    return api.post(getHostName(\"/auth/login\"), {\r\n        username: username,\r\n        password: password\r\n    });\r\n}   \r\n\r\nasync function login(username: string, password: string) {\r\n    let result = {};\r\n    let error = null;\r\n\r\n    await getLoginRequest(username, password).then(response => {\r\n        localStorage.setItem(\"user\", JSON.stringify(response.data));\r\n        result = response;\r\n    }, (errors) => {\r\n        error = errors.response;\r\n    });\r\n\r\n    if (error !== null) {\r\n        return error as AxiosResponse;\r\n    }\r\n\r\n    return result as AxiosResponse<UserDetails>;\r\n}\r\n\r\nconst obj = {login: login};\r\nexport default obj;"]},"metadata":{},"sourceType":"module"}